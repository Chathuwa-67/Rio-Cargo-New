<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Liquidaci贸n - Rio Cargo Express</title>
    <!-- Bootstrap 4 -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <!-- Bootstrap Datepicker -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://courier.riocargoexpress.com/assets/images/logo-rio2.png"
    />
    <style>
      /* Import Custom Fonts */
      @font-face {
        font-family: "NewBlackTypeface-Light";
        src: url("typefaces/NewBlackTypeface-Light.ttf") format("truetype");
        font-weight: 300;
        font-style: normal;
      }

      @font-face {
        font-family: "NewBlackTypeface-Regular";
        src: url("typefaces/NewBlackTypeface-Regular.ttf") format("truetype");
        font-weight: 400;
        font-style: normal;
      }
      @font-face {
        font-family: "NewBlackTypeface-Bold";
        src: url("typefaces/NewBlackTypeface-Bold.ttf") format("truetype");
        font-weight: 700;
        font-style: normal;
      }

      @font-face {
        font-family: "VastagoGrotesk-Light";
        src: url("typefaces/VastagoGrotesk-Light.ttf") format("truetype");
        font-weight: 300;
        font-style: normal;
      }

      @font-face {
        font-family: "VastagoGrotesk-Regular";
        src: url("typefaces/VastagoGrotesk-Regular.otf") format("opentype");
        font-weight: 400;
        font-style: normal;
      }

      @font-face {
        font-family: "VastagoGrotesk-Bold";
        src: url("typefaces/VastagoGrotesk-Bold.otf") format("opentype");
        font-weight: 700;
        font-style: normal;
      }

      body {
        margin: 0;
        background: #01183d;
        font-family: Arial, sans-serif;
        position: relative;
        overflow-x: hidden;
        min-height: 140vh;
        padding-top: 20px;
      }

      /* Background images */
      .bg-image {
        position: absolute;
        z-index: -1;
        opacity: 0.9;
      }

      .bg-left-top {
        top: 120px;
        left: -20px;
        width: 150px;
      }

      .bg-right-top {
        top: 350px;
        right: -50px;
        width: 150px;
      }

      .bg-right-bottom {
        bottom: 150px;
        right: 260px;
        width: 180px;
      }

      /* Navbar container */
      .navbar-container {
        display: flex;
        align-items: center;
        padding: 10px 0 10px 0;
        position: relative;
        flex-wrap: wrap;
      }

      .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #0034c4;
        border-radius: 25px 0 0 25px;
        padding: 10px 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        flex: 1;
        margin-left: 0;
        width: 100%;
      }

      .logo {
        padding: 0 80px 0 50px;
      }

      .logo img {
        height: 70px;
      }

      .navbar ul {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
        flex-wrap: wrap;
      }

      .navbar ul li {
        margin: 0 18px;
        position: relative;
      }

      .navbar ul li a {
        text-decoration: none;
        color: #fff;
        font-weight: 500;
        transition: color 0.3s;
        font-size: 15px;
        font-family: "NewBlackTypeface-Light", Arial, sans-serif;
      }

      .navbar ul li a:hover {
        color: #ffd700;
      }

      .nav-icons {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .nav-icons a {
        color: white;
        font-size: 18px;
        margin-left: 15px;
        text-decoration: none;
      }

      .nav-icons a:hover {
        color: #ffd700;
      }

      .nav-icons img {
        width: 22px;
        height: 22px;
      }

      .navbar ul li ul.dropdown-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background: #0034c4;
        border-radius: 10px;
        padding: 8px 0;
        list-style: none;
        min-width: 200px;
        z-index: 1000;
      }

      .navbar ul li ul.dropdown-menu li {
        margin: 0;
      }

      .navbar ul li ul.dropdown-menu li a {
        display: block;
        padding: 8px 15px;
        color: #fff;
        font-size: 14px;
        white-space: nowrap;
        font-family: "NewBlackTypeface-Light", Arial, sans-serif;
      }

      .navbar ul li ul.dropdown-menu li a:hover {
        background: #002a99;
        color: #ffd700;
      }

      /* Show dropdown on hover */
      .navbar ul li:hover > ul.dropdown-menu {
        display: block;
      }

      .profile {
        background: #007bff;
        border-radius: 50%;
        padding: 6px 6px;
      }

      /* Form Card */
      .card-custom {
        background-color: #0034c4;
        border-radius: 25px;
        padding: 25px;
        color: white;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
        margin-bottom: 20px;
        font-weight: 600;
      }

      /* Dropdown cards */
      .dropdown-card {
        position: absolute;
        top: 80px;
        right: 20px;
        background: #ffffff;
        color: #000;
        width: 220px;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
        padding: 12px;
        display: none;
        z-index: 2000;
        animation: fadeInUp 0.3s ease;
        font-size: 13px;
        font-family: "VastagoGrotesk-Regular", Arial, sans-serif;
      }

      .dropdown-card h6 {
        font-weight: bold;
        margin-bottom: 5px;
        font-size: 13px;
        font-family: "VastagoGrotesk-Bold", Arial, sans-serif;
      }

      .dropdown-card hr {
        margin: 8px 0;
      }

      .dropdown-card a {
        display: block;
        color: #0034c4;
        font-weight: 500;
        padding: 4px 0;
        text-decoration: none;
        font-size: 12px;
        font-family: "VastagoGrotesk-Regular", Arial, sans-serif;
      }

      .dropdown-card a:hover {
        color: #ff9900;
      }

      /* Animation */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(15px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Custom alert style */
      .custom-alert {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 9999;
        min-width: 300px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        border: none;
        border-left: 4px solid #28a745;
        opacity: 0;
        transform: translateX(100%);
        transition: opacity 0.5s, transform 0.5s;
      }

      .custom-alert.show {
        opacity: 1;
        transform: translateX(0);
      }

      .alert-success {
        background-color: #d4edda;
        color: #155724;
      }

      /* Liquidaci贸n specific styles */
      .filter-section {
        background: #0084f8;
        border-radius: 40px;
        padding: 20px;
        margin-bottom: 20px;
        max-width: 1300px; /* Increased width */
        margin-left: auto;
        margin-right: auto;
      }

      .filter-row {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-bottom: 0; /* Removed bottom margin */
      }

      .filter-item {
        flex: 1;
        min-width: 150px;
      }

      .filter-item label {
        color: white;
        font-weight: 600;
        margin-bottom: 5px;
        display: block;
        font-family: "VastagoGrotesk-Bold", Arial, sans-serif;
      }

      .filter-buttons-container {
        display: flex;
        align-items: flex-end;
        gap: 10px;
        margin-top: 5px;
      }

      .filter-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 8px 15px;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s;
        font-family: "NewBlackTypeface-Bold", Arial, sans-serif;
        white-space: nowrap;
      }

      .filter-btn i {
        margin-right: 5px;
      }

      .table-container {
        background: #0034c4; /* Blue background */
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .table-custom {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        background: #0034c4; /* Blue background */
        color: white; /* White text */
      }

      .table-custom th {
        background: #002a99; /* Darker blue for header */
        color: white;
        padding: 15px 8px;
        text-align: left;
        font-weight: 600;
        cursor: pointer;
        user-select: none;
        position: relative;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: normal;
        line-height: 1.3;
        height: 60px;
        vertical-align: middle;
        font-family: "VastagoGrotesk-Bold", Arial, sans-serif;
      }

      .table-custom th:hover {
        background: #002080;
      }

      .table-custom td {
        padding: 12px 8px;
        border-bottom: 1px solid #2a4bbd; /* Lighter blue border */
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: normal;
        vertical-align: middle;
        line-height: 1.4;
        height: 70px;
        font-family: "NewBlackTypeface-Light", Arial, sans-serif;
      }

      .table-custom tr:hover {
        background-color: #002a99;
      }

      /* Column width adjustments - Updated for 15 columns (UF removed) */
      .table-custom th:nth-child(1),
      .table-custom td:nth-child(1) {
        width: 4%;
      } /* Checkbox */
      .table-custom th:nth-child(2),
      .table-custom td:nth-child(2) {
        width: 8%;
      } /* F/Registro */
      .table-custom th:nth-child(3),
      .table-custom td:nth-child(3) {
        width: 10%;
      } /* # Tracking */
      .table-custom th:nth-child(4),
      .table-custom td:nth-child(4) {
        width: 9%;
      } /* Asociado */
      .table-custom th:nth-child(5),
      .table-custom td:nth-child(5) {
        width: 8%;
      } /* Agrupaci贸n */
      .table-custom th:nth-child(6),
      .table-custom td:nth-child(6) {
        width: 8%;
      } /* Total Agrupados */
      .table-custom th:nth-child(7),
      .table-custom td:nth-child(7) {
        width: 8%;
      } /* Cup贸n de descuento */
      .table-custom th:nth-child(8),
      .table-custom td:nth-child(8) {
        width: 10%;
      } /* Estado */
      .table-custom th:nth-child(9),
      .table-custom td:nth-child(9) {
        width: 6%;
      } /* Peso en kilos */
      .table-custom th:nth-child(10),
      .table-custom td:nth-child(10) {
        width: 6%;
      } /* Peso en libras */
      .table-custom th:nth-child(11),
      .table-custom td:nth-child(11) {
        width: 9%;
      } /* Descripci贸n */
      .table-custom th:nth-child(12),
      .table-custom td:nth-child(12) {
        width: 9%;
      } /* Observaciones */
      .table-custom th:nth-child(13),
      .table-custom td:nth-child(13) {
        width: 8%;
      } /* Liquidaci贸n */
      .table-custom th:nth-child(14),
      .table-custom td:nth-child(14) {
        width: 6%;
      } /* Grupo */
      .table-custom th:nth-child(15),
      .table-custom td:nth-child(15) {
        width: 6%;
      } /* Acciones */

      .pagination-info {
        color: white; /* Changed to white */
        margin-bottom: 10px;
        font-family: "VastagoGrotesk-Regular", Arial, sans-serif;
      }

      .pagination-custom .page-link {
        color: #0034c4;
        border: 1px solid #0034c4;
        background: white;
      }

      .pagination-custom .page-item.active .page-link {
        background: #0034c4;
        border-color: #0034c4;
        color: white;
      }

      .entries-select {
        width: 80px;
        display: inline-block;
        margin: 0 10px;
        background: #002a99;
        color: white;
        border: 1px solid #2a4bbd;
      }

      /* Form controls styling */
      .form-control-custom {
        background: rgba(153, 205, 252);
        border-radius: 15px;
        color: rgb(27, 29, 31);
        padding: 8px 12px;
        font-family: "NewBlackTypeface-Light", Arial, sans-serif;
      }

      .form-control-custom::placeholder {
        color: #a0c0ff;
      }

      .form-control-custom:focus {
        background: #002a99;
        border-color: #ffd700;
        color: white;
        box-shadow: 0 0 0 0.2rem rgba(255, 215, 0, 0.25);
      }

      /* Sorting arrows */
      .sort-arrows {
        display: inline-block;
        margin-left: 5px;
        vertical-align: middle;
      }

      .sort-arrow {
        display: block;
        font-size: 10px;
        line-height: 8px;
        color: #a0c0ff;
      }

      .sort-arrow.active {
        color: #ffd700;
      }

      .sort-arrow.up {
        margin-bottom: 1px;
      }

      /* Filter controls row */
      .filter-controls-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        flex-wrap: wrap;
        gap: 15px;
      }

      .search-box {
        flex: 1;
        min-width: 250px;
        max-width: 400px;
      }

      .filter-buttons {
        display: flex;
        gap: 10px;
      }

      /* Currency styling */
      .currency {
        text-align: right;
        font-family: "Courier New", monospace;
        font-weight: 600;
      }

      /* Action buttons styling */
      .action-buttons {
        display: flex;
        flex-direction: row;
        gap: 5px;
        justify-content: center;
      }

      .action-btn {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 14px;
        transition: color 0.3s;
        padding: 5px;
        text-align: center;
        display: flex;
        align-items: center;
        border-radius: 3px;
      }

      .action-btn:hover {
        color: #ff9900;
        background-color: rgba(255, 255, 255, 0.1);
      }

      .action-btn i {
        margin-right: 0;
        width: 16px;
        text-align: center;
      }

      .info-btn {
        background-color: #ff9900;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 6px 10px;
        font-size: 11px;
        cursor: pointer;
        transition: background-color 0.3s;
        display: block;
        margin-top: 5px;
        width: 100%;
        white-space: nowrap;
        font-family: "VastagoGrotesk-Bold", Arial, sans-serif;
      }

      .info-btn:hover {
        background-color: #e68a00;
      }

      .gift-icon {
        color: #ff9900;
        margin-right: 5px;
      }

      /* Estado column specific styling */
      .estado-content {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        height: 100%;
      }

      .estado-text {
        margin-bottom: 5px;
        line-height: 1.2;
      }

      .estado-image {
        width: 24px;
        height: 24px;
        object-fit: contain;
        cursor: pointer;
      }

      /* Gear icon in header */
      .gear-header {
        text-align: center;
      }

      .gear-header i {
        font-size: 18px;
      }

      /* Checkbox styling */
      .row-checkbox {
        width: 16px;
        height: 16px;
        cursor: pointer;
      }

      .header-checkbox {
        width: 16px;
        height: 16px;
        cursor: pointer;
      }

      /* Agrupaci贸n icons */
      .agrupacion-icon {
        font-size: 18px;
        text-align: center;
        display: block;
      }

      .check-icon {
        color: #28a745;
      }

      .cross-icon {
        color: #dc3545;
      }

      /* Liquidaci贸n column */
      .liquidacion-btn {
        background-color: #ce0505;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 6px 12px;
        font-size: 12px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-family: "NewBlackTypeface-Bold", Arial, sans-serif;
        width: 100%;
      }

      .liquidacion-btn:hover {
        background-color: #a00404;
      }

      .cancelado-text {
        color: #ff6b6b;
        font-weight: bold;
        text-align: center;
        font-family: "NewBlackTypeface-Bold", Arial, sans-serif;
      }

      /* Modal Styles */
      .modal-header-custom {
        background: #0034c4;
        color: white;
        border-bottom: none;
        border-radius: 10px 10px 0 0;
      }

      .modal-content-custom {
        border-radius: 10px;
        border: none;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .modal-footer-custom {
        border-top: 1px solid #e9ecef;
        padding: 15px;
      }

      /* Status Modal Styles */
      .status-modal-icon {
        font-size: 60px;
        color: #ff9900;
        text-align: center;
        margin-bottom: 20px;
      }

      .status-modal-content {
        text-align: center;
        padding: 10px 20px;
      }

      .status-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }

      .status-table th,
      .status-table td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid #dee2e6;
      }

      .status-table th {
        background-color: #f8f9fa;
        font-weight: bold;
      }

      .status-image {
        width: 24px;
        height: 24px;
        object-fit: contain;
      }

      /* File Upload Styles */
      .file-upload-container {
        border: 2px dashed #0034c4;
        border-radius: 10px;
        padding: 30px;
        text-align: center;
        background-color: #f8f9fa;
        transition: all 0.3s;
        cursor: pointer;
      }

      .file-upload-container:hover {
        background-color: #e9ecef;
        border-color: #002a99;
      }

      .file-upload-container.dragover {
        background-color: #e3f2fd;
        border-color: #0034c4;
      }

      .file-upload-icon {
        font-size: 48px;
        color: #0034c4;
        margin-bottom: 15px;
      }

      .file-upload-text {
        color: #0034c4;
        font-weight: 500;
      }

      .file-upload-hint {
        color: #6c757d;
        font-size: 14px;
        margin-top: 10px;
      }

      /* Custom buttons */
      .hello-btn {
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 8px 15px;
        font-weight: 600;
        transition: background-color 0.3s;
        font-family: "NewBlackTypeface-Bold", Arial, sans-serif;
      }

      .hello-btn:hover {
        background-color: #218838;
      }
      .filter-row:first-child {
        margin-bottom: 15px;
      }

      .hello2-btn {
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 8px 15px;
        font-weight: 600;
        transition: background-color 0.3s;
        font-family: "NewBlackTypeface-Bold", Arial, sans-serif;
      }

      .hello2-btn:hover {
        background-color: #218838;
      }

      /* Page heading */
      .page-heading {
        text-align: center;
        color: white;
        margin-top: 2rem;
        margin-bottom: 1rem !important;
        font-weight: bold;
        padding-bottom: 1.5rem;
        font-family: "VastagoGrotesk-Bold", Arial, sans-serif;
        font-size: 2.5rem;
      }

      /* Responsive adjustments */
      @media (max-width: 1200px) {
        .table-custom th,
        .table-custom td {
          padding: 12px 6px;
          font-size: 13px;
        }

        .table-custom th {
          height: 70px;
        }

        .table-custom td {
          height: 75px;
        }

        .table-custom th:nth-child(1),
        .table-custom td:nth-child(1) {
          width: 5%;
        }
        .table-custom th:nth-child(2),
        .table-custom td:nth-child(2) {
          width: 9%;
        }
        .table-custom th:nth-child(3),
        .table-custom td:nth-child(3) {
          width: 11%;
        }
        .table-custom th:nth-child(4),
        .table-custom td:nth-child(4) {
          width: 10%;
        }
        .table-custom th:nth-child(5),
        .table-custom td:nth-child(5) {
          width: 9%;
        }
        .table-custom th:nth-child(6),
        .table-custom td:nth-child(6) {
          width: 9%;
        }
        .table-custom th:nth-child(7),
        .table-custom td:nth-child(7) {
          width: 9%;
        }
        .table-custom th:nth-child(8),
        .table-custom td:nth-child(8) {
          width: 11%;
        } /* Estado */
        .table-custom th:nth-child(9),
        .table-custom td:nth-child(9) {
          width: 7%;
        }
        .table-custom th:nth-child(10),
        .table-custom td:nth-child(10) {
          width: 7%;
        }
        .table-custom th:nth-child(11),
        .table-custom td:nth-child(11) {
          width: 10%;
        }
        .table-custom th:nth-child(12),
        .table-custom td:nth-child(12) {
          width: 10%;
        }
        .table-custom th:nth-child(13),
        .table-custom td:nth-child(13) {
          width: 9%;
        } /* Liquidaci贸n */
        .table-custom th:nth-child(14),
        .table-custom td:nth-child(14) {
          width: 7%;
        }
        .table-custom th:nth-child(15),
        .table-custom td:nth-child(15) {
          width: 7%;
        }
      }

      @media (max-width: 992px) {
        .navbar {
          flex-wrap: wrap;
          border-radius: 20px;
          padding: 10px;
          width: 100%;
        }
        .navbar ul {
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
          margin-top: 10px;
        }
        .nav-icons {
          margin-top: 10px;
          width: 100%;
          justify-content: flex-start;
        }
        .filter-item {
          min-width: 150px;
        }
        .filter-controls-row {
          flex-direction: column;
          align-items: stretch;
        }
        .search-box {
          max-width: 100%;
        }
        .filter-buttons {
          justify-content: flex-end;
        }

        .table-container {
          overflow-x: auto;
        }

        .table-custom {
          min-width: 1400px;
        }
      }

      @media (max-width: 768px) {
        .logo img {
          height: 50px;
        }
        .navbar-nav-custom li {
          margin: 6px 0;
        }
        .nav-icons a {
          font-size: 16px;
          margin-left: 10px;
        }
        .custom-alert {
          left: 20px;
          right: 20px;
          min-width: auto;
        }
        .modal-dialog {
          margin: 10px;
        }
        .page-heading {
          font-size: 2rem;
        }
      }

      @media (max-width: 576px) {
        .navbar-container {
          flex-direction: column;
          padding: 10px;
        }
        .navbar {
          border-radius: 20px;
        }
        .filter-item {
          min-width: 100%;
        }
        .filter-buttons {
          flex-direction: column;
        }
        .page-heading {
          font-size: 1.8rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Background Images -->
    <img
      src="images/whitespark.png"
      alt="Background 1"
      class="bg-image bg-left-top"
    />
    <img
      src="images/whitespark.png"
      alt="Background 2"
      class="bg-image bg-right-top"
    />
    <img
      src="images/redstar.png"
      alt="Background 3"
      class="bg-image bg-right-bottom"
    />

    <!-- Custom Alert Container -->
    <div
      id="alertContainer"
      class="custom-alert alert alert-success"
      role="alert"
      style="display: none"
    >
      <div class="d-flex align-items-center">
        <i class="fas fa-check-circle mr-2"></i>
        <span id="alertMessage"></span>
      </div>
    </div>

    <!-- Navbar -->
    <header class="navbar-container">
      <div class="logo">
        <img
          src="./images/RIOCARGO-logo-allwhite.png"
          alt="Rio Cargo Express Logo"
        />
      </div>
      <nav class="navbar">
        <ul>
          <!-- Tablero with dropdown -->
          <li class="dropdown">
            <a href="#">Tablero <i class="fas fa-caret-down"></i></a>
            <ul class="dropdown-menu">
              <li><a href="#">Registrar paquete</a></li>
              <li><a href="#">Estado de paquetes</a></li>
              <li><a href="#">Asociados</a></li>
              <li><a href="#">Cupos</a></li>
            </ul>
          </li>

          <!-- Liquidaci贸n with dropdown -->
          <li class="dropdown">
            <a href="#">Liquidaci贸n <i class="fas fa-caret-down"></i></a>
            <ul class="dropdown-menu">
              <li><a href="#">Liquidaciones Pendientes</a></li>
              <li><a href="#">Liquidaciones Canceladas</a></li>
              <li><a href="#">Cuentas Bancarias</a></li>
            </ul>
          </li>

          <!-- Programas de Recompensa (normal) -->
          <li><a href="#">Programas de Recompensa</a></li>

          <!-- Historial de Tracking (normal) -->
          <li><a href="#">Historial de Tracking</a></li>
        </ul>

        <!-- Nav icons -->
        <div class="nav-icons">
          <a href="javascript:void(0)" id="alertBtn">
            <img src="./images/alert.png" alt="Alert" />
          </a>
          <a href="javascript:void(0)" id="bellBtn">
            <img src="./images/bell.png" alt="Notifications" />
          </a>
          <a href="javascript:void(0)" id="mailBtn">
            <img src="./images/message.png" alt="Mail" />
          </a>
          <a href="javascript:void(0)" id="userBtn" class="profile">
            <img src="./images/user.png" alt="profileLogo" />
          </a>
        </div>
      </nav>
    </header>

    <!-- Dropdown cards - moved outside navbar -->
    <div class="dropdown-card" id="alertCard">
      <h6>Alertas</h6>
      <hr />
      <p>Mensaje de alerta de ejemplo.</p>
    </div>

    <div class="dropdown-card" id="bellCard">
      <h6>Notificaciones</h6>
      <hr />
      <p>Tu paquete est谩 en camino </p>
      <p>Nuevo mensaje recibido </p>
    </div>

    <div class="dropdown-card" id="mailCard">
      <h6>Tienes 0 paquetes en retenci贸n</h6>
      <hr />
      <p>No hay paquetes retenidos.</p>
    </div>

    <div class="dropdown-card" id="userCard">
      <h6>Casillero</h6>
      <p><strong>216258</strong></p>
      <p>Mar铆a Teresa Silva Pinoargote</p>
      <p>tetesilva0908@gmail.com</p>
      <hr />
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-top: 5px;
        "
      >
        <a href="#"><i class="fas fa-user"></i> Mi Perfil</a>
        <a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a>
      </div>
    </div>

    <!-- Heading with small bottom padding only -->
    <h2 class="page-heading">Estado de Paquetes</h2>

    <div class="container-fluid mt-3">
      <!-- Filter Section -->
      <div class="filter-section">
        <!-- Single row for all filters and buttons -->
        <div class="filter-row">
          <div class="filter-item">
            <label for="desde">Desde</label>
            <input
              type="text"
              class="form-control form-control-custom datepicker"
              id="desde"
              placeholder="Seleccionar fecha"
            />
          </div>
          <div class="filter-item">
            <label for="hasta">Hasta</label>
            <input
              type="text"
              class="form-control form-control-custom datepicker"
              id="hasta"
              placeholder="Seleccionar fecha"
            />
          </div>
          <div class="filter-item">
            <label for="tracking">Tracking</label>
            <input
              type="text"
              class="form-control form-control-custom"
              id="tracking"
              placeholder="N煤mero de tracking"
            />
          </div>
          <div class="filter-item">
            <label for="descripcion">Asociado</label>
            <input
              type="text"
              class="form-control form-control-custom"
              id="descripcion"
              placeholder="Nombre del asociado"
            />
          </div>
          <div class="filter-buttons-container">
            <button
              class="btn filter-btn"
              id="filtrarBtn"
              style="background-color: #ffc107; color: #000"
            >
              <i class="fas fa-check"></i>
            </button>
            <button
              class="btn filter-btn"
              id="limpiarBtn"
              style="background-color: #6c757d; color: white"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Table Section -->
      <div class="table-container mb-5">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div class="pagination-info">
            <label for="entriesSelect" class="mr-2">Show</label>
            <select class="form-control entries-select" id="entriesSelect">
              <option value="20">20</option>
              <option value="50">50</option>
              <option value="100">100</option>
              <option value="all">All</option>
            </select>
            <span>entries</span>
          </div>
        </div>

        <div class="table-responsive">
          <table class="table-custom">
            <thead>
              <tr>
                <th class="text-center">
                  <input
                    type="checkbox"
                    class="header-checkbox"
                    id="selectAll"
                  />
                </th>
                <th data-sort="fRegistro">
                  F/Registro
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="tracking">
                  # Tracking
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="asociado">
                  Asociado
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="agrupacion">
                  Agrupaci贸n
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="totalAgrupados" class="currency">
                  Total Agrupados
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="cuponDescuento">
                  Cup贸n de descuento
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="estado">
                  Estado
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="pesoKilos" class="currency">
                  Peso en kg.
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="pesoLibras" class="currency">
                  Peso en lib.
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="descripcion">
                  Descripci贸n
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="observaciones">
                  Observaciones
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="liquidacion">
                  Liquidaci贸n
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th data-sort="grupo">
                  Grupo
                  <span class="sort-arrows">
                    <i class="fas fa-caret-up sort-arrow up"></i>
                    <i class="fas fa-caret-down sort-arrow down"></i>
                  </span>
                </th>
                <th class="gear-header">
                  <i class="fas fa-cog"></i>
                </th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <!-- Data will be populated by JavaScript -->
            </tbody>
          </table>
        </div>

        <div class="d-flex justify-content-between align-items-center mt-3">
          <div class="pagination-info" id="paginationInfo">
            Showing 0 to 0 of 0 entries
          </div>
          <nav>
            <ul class="pagination pagination-custom" id="pagination">
              <!-- Pagination will be generated by JavaScript -->
            </ul>
          </nav>
        </div>
      </div>
    </div>

    <!-- Edit Modal -->
    <div
      class="modal fade"
      id="editModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="editModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content modal-content-custom">
          <div class="modal-header modal-header-custom">
            <h5 class="modal-title" id="editModalLabel">Editar</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true" style="color: white">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form id="editForm">
              <div class="form-group">
                <label for="ordenEnvio">Orden de env铆o</label>
                <input
                  type="text"
                  class="form-control"
                  id="ordenEnvio"
                  placeholder="Ingrese la orden de env铆o"
                />
              </div>
              <div class="form-group">
                <label for="noTracking">No de Tracking</label>
                <input
                  type="text"
                  class="form-control"
                  id="noTracking"
                  placeholder="Ingrese el n煤mero de tracking"
                />
              </div>
              <div class="form-group">
                <label for="valorCompra">Valor de la Compra</label>
                <input
                  type="text"
                  class="form-control"
                  id="valorCompra"
                  placeholder="Ingrese el valor de la compra"
                />
              </div>
              <div class="form-group">
                <label>Por favor suba su factura de compra</label>
                <div class="file-upload-container" id="fileUploadContainer">
                  <div class="file-upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                  </div>
                  <div class="file-upload-text">
                    Suelte los archivos aqu铆 o haga clic para cargar
                  </div>
                  <div class="file-upload-hint">
                    Al agregar un nuevo archivo los anteriores ser谩n eliminados
                  </div>
                  <input
                    type="file"
                    id="fileInput"
                    style="display: none"
                    accept="image/*"
                  />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer modal-footer-custom">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="button" class="btn btn-primary" id="saveChangesBtn">
              OK
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div
      class="modal fade"
      id="deleteModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="deleteModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content modal-content-custom">
          <div class="modal-header modal-header-custom">
            <h5 class="modal-title" id="deleteModalLabel">
              Confirmar Eliminaci贸n
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true" style="color: white">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>
              驴Est谩 seguro de que desea eliminar este registro? Esta acci贸n no
              se puede deshacer.
            </p>
          </div>
          <div class="modal-footer modal-footer-custom">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              No
            </button>
            <button type="button" class="btn btn-danger" id="confirmDeleteBtn">
              S铆, Eliminar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Status Modal -->
    <div
      class="modal fade"
      id="statusModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="statusModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content modal-content-custom">
          <div class="modal-header modal-header-custom">
            <h5 class="modal-title" id="statusModalLabel">
              Estado del paquete
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true" style="color: white">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="status-modal-content">
              <table class="status-table">
                <thead>
                  <tr>
                    <th>Estado</th>
                    <th>Descripci贸n</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <img
                        src="images/status (1).png"
                        alt="Estado 1"
                        class="status-image"
                      />
                    </td>
                    <td>Registrado por usuario</td>
                  </tr>
                  <tr>
                    <td>
                      <img
                        src="images/status (2).png"
                        alt="Estado 2"
                        class="status-image"
                      />
                    </td>
                    <td>Paquete retenido por falta de registro</td>
                  </tr>
                  <tr>
                    <td>
                      <img
                        src="images/status (3).png"
                        alt="Estado 3"
                        class="status-image"
                      />
                    </td>
                    <td>Paquete presenta una anomal铆a</td>
                  </tr>
                  <tr>
                    <td>
                      <img
                        src="images/status (4).png"
                        alt="Estado 4"
                        class="status-image"
                      />
                    </td>
                    <td>Revisado y en proceso de embarque</td>
                  </tr>
                  <tr>
                    <td>
                      <img
                        src="images/status (5).png"
                        alt="Estado 5"
                        class="status-image"
                      />
                    </td>
                    <td>Embarcado o viajando</td>
                  </tr>
                  <tr>
                    <td>
                      <img
                        src="images/status (6).png"
                        alt="Estado 6"
                        class="status-image"
                      />
                    </td>
                    <td>Listo para retirar</td>
                  </tr>
                  <tr>
                    <td>
                      <img
                        src="images/status (7).png"
                        alt="Estado 7"
                        class="status-image"
                      />
                    </td>
                    <td>En proceso aduanero</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="modal-footer modal-footer-custom">
            <button type="button" class="btn btn-primary" data-dismiss="modal">
              Cerrar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap Datepicker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.es.min.js"></script>

    <script src="./js/security.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Extended sample data with 25 records including new columns
        const sampleData = [
          {
            fRegistro: "2025-09-01",
            tracking: "RCX785412369",
            asociado: "Mar铆a Silva",
            agrupacion: "check", // Will be replaced with icon
            totalAgrupados: 125.5,
            cuponDescuento: "DESC10",
            estado: "status1.png",
            pesoKilos: 2.5,
            pesoLibras: 5.51,
            descripcion: "Ropa y accesorios",
            observaciones: "-",
            liquidacion: "PAGAR", // New column
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-02",
            tracking: "RCX963258741",
            asociado: "Carlos Rodr铆guez",
            agrupacion: "cross", // Will be replaced with icon
            totalAgrupados: 345.75,
            cuponDescuento: "DESC15",
            estado: "status2.png",
            pesoKilos: 5.2,
            pesoLibras: 11.46,
            descripcion: "Electr贸nicos",
            observaciones: "-",
            liquidacion: "CANCELADO", // New column
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-03",
            tracking: "RCX147852369",
            asociado: "Ana Garc铆a",
            agrupacion: "check",
            totalAgrupados: 89.99,
            cuponDescuento: "DESC20",
            estado: "status3.png",
            pesoKilos: 1.8,
            pesoLibras: 3.97,
            descripcion: "Libros",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-04",
            tracking: "RCX258741963",
            asociado: "Luis Mart铆nez",
            agrupacion: "cross",
            totalAgrupados: 567.25,
            cuponDescuento: "DESC25",
            estado: "status4.png",
            pesoKilos: 7.5,
            pesoLibras: 16.53,
            descripcion: "Herramientas",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
          {
            fRegistro: "2025-09-05",
            tracking: "RCX369852147",
            asociado: "Elena Torres",
            agrupacion: "check",
            totalAgrupados: 234.75,
            cuponDescuento: "DESC30",
            estado: "status5.png",
            pesoKilos: 3.2,
            pesoLibras: 7.05,
            descripcion: "Cosm茅ticos",
            observaciones: "-",
            liquidacion: "CANCELADO",
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-06",
            tracking: "RCX741852963",
            asociado: "Pedro S谩nchez",
            agrupacion: "cross",
            totalAgrupados: 678.5,
            cuponDescuento: "DESC35",
            estado: "status6.png",
            pesoKilos: 8.7,
            pesoLibras: 19.18,
            descripcion: "Deportes",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-07",
            tracking: "RCX852963741",
            asociado: "Laura G贸mez",
            agrupacion: "check",
            totalAgrupados: 156.25,
            cuponDescuento: "DESC40",
            estado: "status7.png",
            pesoKilos: 2.1,
            pesoLibras: 4.63,
            descripcion: "Joyer铆a",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
          {
            fRegistro: "2025-09-08",
            tracking: "RCX963741852",
            asociado: "Miguel ngel",
            agrupacion: "cross",
            totalAgrupados: 432.75,
            cuponDescuento: "DESC45",
            estado: "status1.png",
            pesoKilos: 6.3,
            pesoLibras: 13.89,
            descripcion: "Muebles",
            observaciones: "-",
            liquidacion: "CANCELADO",
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-09",
            tracking: "RCX159753486",
            asociado: "Carmen Ruiz",
            agrupacion: "check",
            totalAgrupados: 298.5,
            cuponDescuento: "DESC50",
            estado: "status2.png",
            pesoKilos: 4.5,
            pesoLibras: 9.92,
            descripcion: "Ropa infantil",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-10",
            tracking: "RCX357159486",
            asociado: "Javier L贸pez",
            agrupacion: "cross",
            totalAgrupados: 765.25,
            cuponDescuento: "DESC55",
            estado: "status3.png",
            pesoKilos: 9.2,
            pesoLibras: 20.28,
            descripcion: "Electrodom茅sticos",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
          {
            fRegistro: "2025-09-11",
            tracking: "RCX486357159",
            asociado: "Isabel Castro",
            agrupacion: "check",
            totalAgrupados: 187.75,
            cuponDescuento: "DESC60",
            estado: "status4.png",
            pesoKilos: 2.8,
            pesoLibras: 6.17,
            descripcion: "Calzado",
            observaciones: "-",
            liquidacion: "CANCELADO",
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-12",
            tracking: "RCX753159486",
            asociado: "Roberto D铆az",
            agrupacion: "cross",
            totalAgrupados: 543.5,
            cuponDescuento: "DESC65",
            estado: "status5.png",
            pesoKilos: 7.1,
            pesoLibras: 15.65,
            descripcion: "Instrumentos musicales",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-13",
            tracking: "RCX951753486",
            asociado: "Patricia Vega",
            agrupacion: "check",
            totalAgrupados: 321.25,
            cuponDescuento: "DESC70",
            estado: "status6.png",
            pesoKilos: 3.9,
            pesoLibras: 8.6,
            descripcion: "Arte",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
          {
            fRegistro: "2025-09-14",
            tracking: "RCX357486159",
            asociado: "Fernando Reyes",
            agrupacion: "cross",
            totalAgrupados: 654.75,
            cuponDescuento: "DESC75",
            estado: "status7.png",
            pesoKilos: 8.4,
            pesoLibras: 18.52,
            descripcion: "Jardiner铆a",
            observaciones: "-",
            liquidacion: "CANCELADO",
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-15",
            tracking: "RCX486159753",
            asociado: "Sof铆a Mendoza",
            agrupacion: "check",
            totalAgrupados: 234.5,
            cuponDescuento: "DESC80",
            estado: "status1.png",
            pesoKilos: 2.6,
            pesoLibras: 5.73,
            descripcion: "Belleza",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-16",
            tracking: "RCX159486753",
            asociado: "Ricardo Ortega",
            agrupacion: "cross",
            totalAgrupados: 876.25,
            cuponDescuento: "DESC85",
            estado: "status2.png",
            pesoKilos: 10.3,
            pesoLibras: 22.71,
            descripcion: "Tecnolog铆a",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
          {
            fRegistro: "2025-09-17",
            tracking: "RCX753486159",
            asociado: "Adriana Flores",
            agrupacion: "check",
            totalAgrupados: 198.75,
            cuponDescuento: "DESC90",
            estado: "status3.png",
            pesoKilos: 3.1,
            pesoLibras: 6.83,
            descripcion: "Hogar",
            observaciones: "-",
            liquidacion: "CANCELADO",
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-18",
            tracking: "RCX486753159",
            asociado: "Diego Herrera",
            agrupacion: "cross",
            totalAgrupados: 567.5,
            cuponDescuento: "DESC95",
            estado: "status4.png",
            pesoKilos: 7.8,
            pesoLibras: 17.2,
            descripcion: "Automotriz",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-19",
            tracking: "RCX159753486",
            asociado: "Gabriela R铆os",
            agrupacion: "check",
            totalAgrupados: 345.25,
            cuponDescuento: "DESC100",
            estado: "status5.png",
            pesoKilos: 4.7,
            pesoLibras: 10.36,
            descripcion: "Salud",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
          {
            fRegistro: "2025-09-20",
            tracking: "RCX357159486",
            asociado: "Oscar Silva",
            agrupacion: "cross",
            totalAgrupados: 712.75,
            cuponDescuento: "DESC105",
            estado: "status6.png",
            pesoKilos: 9.6,
            pesoLibras: 21.16,
            descripcion: "Oficina",
            observaciones: "-",
            liquidacion: "CANCELADO",
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-21",
            tracking: "RCX486357159",
            asociado: "Ver贸nica Castro",
            agrupacion: "check",
            totalAgrupados: 267.5,
            cuponDescuento: "DESC110",
            estado: "status7.png",
            pesoKilos: 3.4,
            pesoLibras: 7.5,
            descripcion: "Fotograf铆a",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-22",
            tracking: "RCX753159486",
            asociado: "H茅ctor Morales",
            agrupacion: "cross",
            totalAgrupados: 598.25,
            cuponDescuento: "DESC115",
            estado: "status1.png",
            pesoKilos: 8.2,
            pesoLibras: 18.08,
            descripcion: "Mascotas",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
          {
            fRegistro: "2025-09-23",
            tracking: "RCX951753486",
            asociado: "Natalia Jim茅nez",
            agrupacion: "check",
            totalAgrupados: 312.75,
            cuponDescuento: "DESC120",
            estado: "status2.png",
            pesoKilos: 4.2,
            pesoLibras: 9.26,
            descripcion: "Viajes",
            observaciones: "-",
            liquidacion: "CANCELADO",
            grupo: "Grupo 2",
          },
          {
            fRegistro: "2025-09-24",
            tracking: "RCX357486159",
            asociado: "Ra煤l Navarro",
            agrupacion: "cross",
            totalAgrupados: 689.5,
            cuponDescuento: "DESC125",
            estado: "status3.png",
            pesoKilos: 9.1,
            pesoLibras: 20.06,
            descripcion: "Construcci贸n",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 1",
          },
          {
            fRegistro: "2025-09-25",
            tracking: "RCX486159753",
            asociado: "Claudia Romero",
            agrupacion: "check",
            totalAgrupados: 278.25,
            cuponDescuento: "DESC130",
            estado: "status4.png",
            pesoKilos: 3.7,
            pesoLibras: 8.16,
            descripcion: "Educaci贸n",
            observaciones: "-",
            liquidacion: "PAGAR",
            grupo: "Grupo 3",
          },
        ];

        // State management
        let currentData = [...sampleData];
        let currentPage = 1;
        let entriesPerPage = 20;
        let filteredData = [...sampleData];
        let sortColumn = "fRegistro";
        let sortDirection = "asc";
        let currentEditingItem = null;
        let currentDeletingItem = null;

        // Initialize datepickers
        $(".datepicker").datepicker({
          format: "yyyy-mm-dd",
          language: "es",
          autoclose: true,
        });

        // Set initial dates
        $("#desde").datepicker("update", "2025-09-01");
        $("#hasta").datepicker("update", "2025-09-26");

        // Nav dropdown functionality
        const cards = {
          alertBtn: "alertCard",
          bellBtn: "bellCard",
          mailBtn: "mailCard",
          userBtn: "userCard",
        };

        function showAlert(message) {
          const alertContainer = document.getElementById("alertContainer");
          const alertMessage = document.getElementById("alertMessage");

          alertMessage.textContent = message;
          alertContainer.style.display = "block";
          void alertContainer.offsetWidth;
          alertContainer.classList.add("show");

          setTimeout(() => {
            alertContainer.classList.remove("show");
            setTimeout(() => {
              alertContainer.style.display = "none";
            }, 500);
          }, 3000);
        }

        function toggleCard(cardId) {
          document.querySelectorAll(".dropdown-card").forEach((card) => {
            if (card.id !== cardId) card.style.display = "none";
          });
          const card = document.getElementById(cardId);
          card.style.display =
            card.style.display === "block" ? "none" : "block";
        }

        Object.keys(cards).forEach((btnId) => {
          document.getElementById(btnId).addEventListener("click", (e) => {
            e.stopPropagation();
            toggleCard(cards[btnId]);
          });
        });

        document.addEventListener("click", function (e) {
          document.querySelectorAll(".dropdown-card").forEach((card) => {
            card.style.display = "none";
          });
        });

        document.querySelectorAll(".dropdown-card").forEach((card) => {
          card.addEventListener("click", (e) => e.stopPropagation());
        });

        // Format currency
        function formatCurrency(amount) {
          return "$" + amount.toFixed(2);
        }

        // Format weight
        function formatWeight(amount) {
          return amount.toFixed(2);
        }

        // Sorting functionality
        function sortData(column, direction) {
          filteredData.sort((a, b) => {
            let aValue = a[column];
            let bValue = b[column];

            if (column === "fRegistro") {
              aValue = new Date(aValue);
              bValue = new Date(bValue);
            } else if (
              column === "totalAgrupados" ||
              column === "pesoKilos" ||
              column === "pesoLibras"
            ) {
              // Numeric sorting for currency and weight columns
              aValue = parseFloat(aValue);
              bValue = parseFloat(bValue);
            } else {
              aValue = String(aValue).toLowerCase();
              bValue = String(bValue).toLowerCase();
            }

            if (direction === "asc") {
              return aValue > bValue ? 1 : -1;
            } else {
              return aValue < bValue ? 1 : -1;
            }
          });
        }

        function updateSortArrows(column, direction) {
          // Reset all arrows
          document.querySelectorAll(".sort-arrow").forEach((arrow) => {
            arrow.classList.remove("active");
          });

          // Activate current sort arrows
          const currentTh = document.querySelector(`th[data-sort="${column}"]`);
          if (currentTh) {
            const upArrow = currentTh.querySelector(".sort-arrow.up");
            const downArrow = currentTh.querySelector(".sort-arrow.down");

            if (direction === "asc") {
              upArrow.classList.add("active");
            } else {
              downArrow.classList.add("active");
            }
          }
        }

        function setupSorting() {
          document.querySelectorAll("th[data-sort]").forEach((th) => {
            th.addEventListener("click", function () {
              const column = this.getAttribute("data-sort");

              if (sortColumn === column) {
                // Toggle direction if same column
                sortDirection = sortDirection === "asc" ? "desc" : "asc";
              } else {
                // New column, default to ascending
                sortColumn = column;
                sortDirection = "asc";
              }

              sortData(sortColumn, sortDirection);
              updateSortArrows(sortColumn, sortDirection);
              currentPage = 1;
              renderTable();
            });
          });
        }

        // Table functionality
        function renderTable() {
          const tableBody = document.getElementById("tableBody");
          const startIndex = (currentPage - 1) * entriesPerPage;
          const endIndex = Math.min(
            startIndex + entriesPerPage,
            filteredData.length
          );
          const pageData =
            entriesPerPage === "all"
              ? filteredData
              : filteredData.slice(startIndex, endIndex);

          tableBody.innerHTML = "";

          if (pageData.length === 0) {
            tableBody.innerHTML =
              '<tr><td colspan="15" class="text-center">No data available in table</td></tr>';
          } else {
            pageData.forEach((item) => {
              const row = document.createElement("tr");
              row.innerHTML = `
      <td class="text-center">
        <input type="checkbox" class="row-checkbox">
      </td>
      <td>${item.fRegistro}</td>
      <td>${item.tracking}</td>
      <td>${item.asociado}</td>
      <td class="text-center">
        ${
          item.agrupacion === "check"
            ? '<i class="fas fa-check agrupacion-icon check-icon"></i>'
            : '<i class="fas fa-times agrupacion-icon cross-icon"></i>'
        }
      </td>
      <td class="currency">${formatCurrency(item.totalAgrupados)}</td>
      <td>${item.cuponDescuento}</td>
      <td>
        <div class="estado-content">
          <img src="images/${
            item.estado
          }" alt="Estado" class="estado-image view-status-btn" style="cursor: pointer;">
        </div>
      </td>
      <td class="currency">${formatWeight(item.pesoKilos)} kg</td>
      <td class="currency">${formatWeight(item.pesoLibras)} lb</td>
      <td>${item.descripcion}</td>
      <td>${item.observaciones}</td>
      <td>
        ${
          item.liquidacion === "PAGAR"
            ? '<button class="liquidacion-btn pagar-btn">PAGAR</button>'
            : '<span class="cancelado-text">CANCELADO</span>'
        }
      </td>
      <td>${item.grupo}</td>
      <td>
        <div class="action-buttons">
          <button class="action-btn edit-btn" data-tracking="${
            item.tracking
          }" title="Editar">
            <i class="fas fa-edit"></i>  
          </button>
          <button class="action-btn delete-btn" data-tracking="${
            item.tracking
          }" title="Eliminar">
            <i class="fas fa-trash"></i>  
          </button>
          <button class="action-btn doc-btn" data-doc="1" title="Documento">
            <i class="fas fa-file"></i>  
          </button>
        </div>
      </td>
    `;
              tableBody.appendChild(row);
            });
          }

          // Add event listeners for edit buttons
          document.querySelectorAll(".edit-btn").forEach((btn) => {
            btn.addEventListener("click", function (e) {
              e.preventDefault();
              const tracking = this.getAttribute("data-tracking");
              openEditModal(tracking);
            });
          });

          // Add event listeners for delete buttons
          document.querySelectorAll(".delete-btn").forEach((btn) => {
            btn.addEventListener("click", function (e) {
              e.preventDefault();
              const tracking = this.getAttribute("data-tracking");
              openDeleteModal(tracking);
            });
          });

          // Add event listeners for document buttons
          document.querySelectorAll(".doc-btn").forEach((btn) => {
            btn.addEventListener("click", function (e) {
              e.preventDefault();
              const docNumber = this.getAttribute("data-doc");
              openDocument(docNumber);
            });
          });

          // Add event listeners for status buttons
          document.querySelectorAll(".view-status-btn").forEach((btn) => {
            btn.addEventListener("click", function (e) {
              e.preventDefault();
              openStatusModal();
            });
          });

          // Add event listeners for pagar buttons
          document.querySelectorAll(".pagar-btn").forEach((btn) => {
            btn.addEventListener("click", function (e) {
              e.preventDefault();
              showAlert("Procesando pago...");
            });
          });

          // Add event listeners for checkboxes
          setupCheckboxes();

          updatePaginationInfo();
          renderPagination();
        }

        // Checkbox functionality
        function setupCheckboxes() {
          // Select all checkbox
          const selectAllCheckbox = document.getElementById("selectAll");
          selectAllCheckbox.addEventListener("change", function () {
            const rowCheckboxes = document.querySelectorAll(".row-checkbox");
            rowCheckboxes.forEach((checkbox) => {
              checkbox.checked = selectAllCheckbox.checked;
            });
          });

          // Individual row checkboxes
          const rowCheckboxes = document.querySelectorAll(".row-checkbox");
          rowCheckboxes.forEach((checkbox) => {
            checkbox.addEventListener("change", function () {
              const allChecked = Array.from(rowCheckboxes).every(
                (cb) => cb.checked
              );
              selectAllCheckbox.checked = allChecked;
            });
          });
        }

        // Modal functions
        function openEditModal(tracking) {
          const item = filteredData.find((item) => item.tracking === tracking);
          if (item) {
            currentEditingItem = item;
            document.getElementById("ordenEnvio").value = "";
            document.getElementById("noTracking").value = item.tracking;
            document.getElementById("valorCompra").value = item.totalAgrupados;
            $("#editModal").modal("show");
          }
        }

        function openDeleteModal(tracking) {
          const item = filteredData.find((item) => item.tracking === tracking);
          if (item) {
            currentDeletingItem = item;
            $("#deleteModal").modal("show");
          }
        }

        function openStatusModal() {
          $("#statusModal").modal("show");
        }

        function openDocument(docNumber) {
          showAlert(`Documento ${docNumber} abierto`);
        }

        // Pagination functions
        function updatePaginationInfo() {
          const startIndex = (currentPage - 1) * entriesPerPage;
          const endIndex = Math.min(
            startIndex + entriesPerPage,
            filteredData.length
          );
          const totalEntries = filteredData.length;

          document.getElementById("paginationInfo").textContent = `Showing ${
            startIndex + 1
          } to ${endIndex} of ${totalEntries} entries`;
        }

        function renderPagination() {
          const totalPages = Math.ceil(filteredData.length / entriesPerPage);
          const pagination = document.getElementById("pagination");
          pagination.innerHTML = "";

          if (totalPages <= 1) return;

          // Previous button
          const prevLi = document.createElement("li");
          prevLi.className = `page-item ${currentPage === 1 ? "disabled" : ""}`;
          prevLi.innerHTML = `<a class="page-link" href="#" data-page="${
            currentPage - 1
          }">Previous</a>`;
          pagination.appendChild(prevLi);

          // Page numbers
          for (let i = 1; i <= totalPages; i++) {
            const li = document.createElement("li");
            li.className = `page-item ${i === currentPage ? "active" : ""}`;
            li.innerHTML = `<a class="page-link" href="#" data-page="${i}">${i}</a>`;
            pagination.appendChild(li);
          }

          // Next button
          const nextLi = document.createElement("li");
          nextLi.className = `page-item ${
            currentPage === totalPages ? "disabled" : ""
          }`;
          nextLi.innerHTML = `<a class="page-link" href="#" data-page="${
            currentPage + 1
          }">Next</a>`;
          pagination.appendChild(nextLi);

          // Add event listeners
          pagination.querySelectorAll(".page-link").forEach((link) => {
            link.addEventListener("click", function (e) {
              e.preventDefault();
              const page = parseInt(this.getAttribute("data-page"));
              if (page >= 1 && page <= totalPages && page !== currentPage) {
                currentPage = page;
                renderTable();
              }
            });
          });
        }

        // Filter functions
        function filterData() {
          const desde = document.getElementById("desde").value;
          const hasta = document.getElementById("hasta").value;
          const tracking = document
            .getElementById("tracking")
            .value.toLowerCase();
          const asociado = document
            .getElementById("descripcion")
            .value.toLowerCase();

          filteredData = currentData.filter((item) => {
            const itemDate = new Date(item.fRegistro);
            const desdeDate = desde ? new Date(desde) : null;
            const hastaDate = hasta ? new Date(hasta) : null;

            // Date filter
            if (desdeDate && itemDate < desdeDate) return false;
            if (hastaDate && itemDate > hastaDate) return false;

            // Tracking filter
            if (tracking && !item.tracking.toLowerCase().includes(tracking))
              return false;

            // Asociado filter
            if (asociado && !item.asociado.toLowerCase().includes(asociado))
              return false;

            return true;
          });

          currentPage = 1;
          sortData(sortColumn, sortDirection);
          renderTable();
        }

        function clearFilters() {
          document.getElementById("desde").value = "";
          document.getElementById("hasta").value = "";
          document.getElementById("tracking").value = "";
          document.getElementById("descripcion").value = "";
          filterData();
        }

        // Event listeners for filter buttons
        document
          .getElementById("filtrarBtn")
          .addEventListener("click", filterData);
        document
          .getElementById("limpiarBtn")
          .addEventListener("click", clearFilters);

        // Event listener for entries per page
        document
          .getElementById("entriesSelect")
          .addEventListener("change", function () {
            entriesPerPage =
              this.value === "all" ? "all" : parseInt(this.value);
            currentPage = 1;
            renderTable();
          });

        // Initialize
        sortData(sortColumn, sortDirection);
        updateSortArrows(sortColumn, sortDirection);
        setupSorting();
        renderTable();
        filterData();

        // Make functions available globally
        window.showAlert = showAlert;
        window.openEditModal = openEditModal;
        window.openDeleteModal = openDeleteModal;
        window.openStatusModal = openStatusModal;
        window.openDocument = openDocument;
      });
    </script>
  </body>
</html>
